---
import BaseLayout from "../layouts/BaseLayout.astro";
import fs from "fs";
import path from "path";

const slug = Astro.params.slug ?? "home";
const filePath = path.join(
  process.cwd(),
  "src/content/pages",
  `${slug}.md`
);

const raw = fs.readFileSync(filePath, "utf-8");
const { content, data } = await Astro.compiler.parse(raw);
---

<BaseLayout title={data.title}>
  <article>
    <h1>{data.title}</h1>
    <div set:html={content} />
  </article>
</BaseLayout>
